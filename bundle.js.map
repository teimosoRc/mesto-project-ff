{"version":3,"file":"bundle.js","mappings":"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","sources":["webpack://mesto-project-ff/./src/components/card.js","webpack://mesto-project-ff/./src/components/modal.js","webpack://mesto-project-ff/./src/components/validation.js","webpack://mesto-project-ff/./src/components/api.js","webpack://mesto-project-ff/./src/index.js"],"sourcesContent":["export function createCard({\r\n  data,\r\n  onDelete,\r\n  onLike,\r\n  currentUserId,\r\n  onImageClick,\r\n  template,\r\n}) {\r\n  const cardElement = template.querySelector(\".places__item\").cloneNode(true);\r\n  const deleteCardButton = cardElement.querySelector(\".card__delete-button\");\r\n\r\n  const cardLike = cardElement.querySelector(\".card__like-button\");\r\n  const imgCard = cardElement.querySelector(\".card__image\");\r\n  const cardTitle = cardElement.querySelector(\".card__title\");\r\n  const counter = cardElement.querySelector(\".card__like-counter\");\r\n\r\n  imgCard.src = data.link;\r\n  imgCard.alt = data.name;\r\n  cardTitle.textContent = data.name;\r\n\r\n  if (data.likes.length) {\r\n    counter.classList.add(\"card__like-counter_is-active\");\r\n    counter.textContent = data.likes.length;\r\n  }\r\n\r\n  if (data.likes.find((owner) => owner[\"_id\"] === currentUserId)) {\r\n    cardLike.classList.add(\"card__like-button_is-active\");\r\n  }\r\n\r\n  cardLike.addEventListener(\"click\", (evt) => {\r\n    onLike({\r\n      cardId: data[\"_id\"],\r\n      buttonElement: cardLike,\r\n      counterElement: counter,\r\n    });\r\n  });\r\n\r\n  imgCard.addEventListener(\"click\", (evt) => {\r\n    const data = { name: evt.target.alt, link: evt.target.src };\r\n    onImageClick(data);\r\n  });\r\n\r\n  if (data.owner[\"_id\"] === currentUserId) {\r\n    deleteCardButton.classList.add(\"card__delete-button_is-active\");\r\n    deleteCardButton.addEventListener(\"click\", () => {\r\n      onDelete({\r\n        cardId: data[\"_id\"],\r\n        cardElement: cardElement,\r\n        buttonElement: deleteCardButton,\r\n      });\r\n    });\r\n  }\r\n\r\n  return cardElement;\r\n}\r\n","function handlerKeydown (evt) {\r\n  if (evt.key === 'Escape') {\r\n    closeModal(document.querySelector('.popup_is-opened'))\r\n  }\r\n}\r\n\r\nexport function openModal (element) {\r\n  element.classList.add('popup_is-opened')\r\n  document.addEventListener('keydown', handlerKeydown)\r\n}\r\n\r\nexport function closeModal (element) {\r\n  element.classList.remove('popup_is-opened')\r\n  document.removeEventListener('keydown', handlerKeydown)\r\n}\r\n\r\nexport const handleModalClick = (event) => {\r\n  if (event.target.classList.contains('popup_is-opened')) {\r\n    return closeModal(event.target);\r\n  }\r\n\r\n  if (event.target.closest('.popup__close')) {\r\n    return closeModal(event.target.closest('.popup'));\r\n  }\r\n};","const hasInvalidInput = (inputList) =>\r\n  inputList.some((input) => !input.validity.valid);\r\n\r\nconst showInputError = ({\r\n  formElement,\r\n  inputElement,\r\n  inputErrorClass,\r\n  errorClass,\r\n  errorMessage,\r\n}) => {\r\n  const errorElement = formElement.querySelector(`.${inputElement.id}-error`);\r\n\r\n  errorElement.classList.add(errorClass);\r\n  errorElement.textContent = errorMessage;\r\n\r\n  inputElement.classList.add(inputErrorClass);\r\n};\r\n\r\nconst hideInputError = ({\r\n  formElement,\r\n  inputElement,\r\n  inputErrorClass,\r\n  errorClass,\r\n}) => {\r\n  const errorElement = formElement.querySelector(`.${inputElement.id}-error`);\r\n\r\n  errorElement.classList.remove(errorClass);\r\n  errorElement.textContent = \"\";\r\n\r\n  inputElement.classList.remove(inputErrorClass);\r\n};\r\n\r\nconst checkInputValidity = ({\r\n  formElement,\r\n  inputElement,\r\n  inputErrorClass,\r\n  errorClass,\r\n}) => {\r\n  if (inputElement.validity.patternMismatch) {\r\n    inputElement.setCustomValidity(inputElement.dataset.errorMessage);\r\n  } else {\r\n    inputElement.setCustomValidity(\"\");\r\n  }\r\n\r\n  if (!inputElement.validity.valid) {\r\n    showInputError({\r\n      formElement,\r\n      inputElement,\r\n      errorMessage: inputElement.validationMessage,\r\n      errorClass,\r\n      inputErrorClass,\r\n    });\r\n  } else {\r\n    hideInputError({\r\n      formElement,\r\n      inputElement,\r\n      errorClass,\r\n      inputErrorClass,\r\n    });\r\n  }\r\n};\r\n\r\nconst toggleButtonState = ({\r\n  inputList,\r\n  submitButtonElement,\r\n  inactiveButtonClass,\r\n}) => {\r\n  if (hasInvalidInput(inputList)) {\r\n    submitButtonElement.disabled = true;\r\n    submitButtonElement.classList.add(inactiveButtonClass);\r\n  } else {\r\n    submitButtonElement.disabled = false;\r\n    submitButtonElement.classList.remove(inactiveButtonClass);\r\n  }\r\n};\r\n\r\nconst setEventListeners = ({\r\n  formElement,\r\n  inputSelector,\r\n  inputErrorClass,\r\n  submitButtonSelector,\r\n  inactiveButtonClass,\r\n  errorClass,\r\n}) => {\r\n  const inputList = [...formElement.querySelectorAll(inputSelector)];\r\n  const submitButtonElement = formElement.querySelector(submitButtonSelector);\r\n\r\n  toggleButtonState({\r\n    inputList,\r\n    submitButtonElement,\r\n    inactiveButtonClass,\r\n  });\r\n\r\n  inputList.forEach((inputElement) => {\r\n    inputElement.addEventListener(\"input\", () => {\r\n      checkInputValidity({\r\n        formElement,\r\n        inputElement,\r\n        inputErrorClass,\r\n        errorClass,\r\n      });\r\n      toggleButtonState({\r\n        inputList,\r\n        submitButtonElement,\r\n        inactiveButtonClass,\r\n      });\r\n    });\r\n  });\r\n};\r\n\r\nexport const enableValidation = ({\r\n  formSelector,\r\n  inputSelector,\r\n  submitButtonSelector,\r\n  inactiveButtonClass,\r\n  inputErrorClass,\r\n  errorClass,\r\n}) => {\r\n  const formList = document.querySelectorAll(formSelector);\r\n\r\n  formList.forEach((formElement) => {\r\n    formElement.addEventListener(\"submit\", (event) => {\r\n      event.preventDefault();\r\n    });\r\n\r\n    setEventListeners({\r\n      formElement,\r\n      inputSelector,\r\n      submitButtonSelector,\r\n      inactiveButtonClass,\r\n      inputErrorClass,\r\n      errorClass,\r\n    });\r\n  });\r\n};\r\n\r\nexport const clearValidation = (\r\n  formElement,\r\n  {\r\n    submitButtonSelector,\r\n    inactiveButtonClass,\r\n    inputSelector,\r\n    inputErrorClass,\r\n    errorClass,\r\n  }\r\n) => {\r\n  const inputList = [...formElement.querySelectorAll(inputSelector)];\r\n  const submitButtonElement = formElement.querySelector(submitButtonSelector);\r\n\r\n  inputList.forEach((inputElement) => {\r\n    hideInputError({\r\n      formElement,\r\n      inputElement,\r\n      inputErrorClass,\r\n      errorClass,\r\n    });\r\n  });\r\n\r\n  toggleButtonState({\r\n    inputList,\r\n    submitButtonElement,\r\n    inactiveButtonClass,\r\n  });\r\n};\r\n","const config = {\r\n  baseUrl: \"https://nomoreparties.co/v1/wff-cohort-29\",\r\n  headers: {\r\n    authorization: \"5f021d0d-13ed-496f-9b89-19493d921125\",\r\n    \"Content-Type\": \"application/json\",\r\n  },\r\n};\r\n\r\nexport const getInitialCards = () => {\r\n  return fetch(`${config.baseUrl}/cards`, {\r\n    headers: config.headers,\r\n  }).then(errorHandler);\r\n};\r\n\r\nexport const createCardApi = ({ name, link }) => {\r\n  return fetch(`${config.baseUrl}/cards`, {\r\n    headers: config.headers,\r\n    method: \"POST\",\r\n    body: JSON.stringify({\r\n      name,\r\n      link,\r\n    }),\r\n  }).then(errorHandler);\r\n};\r\n\r\nexport const getUser = () => {\r\n  return fetch(`${config.baseUrl}/users/me`, {\r\n    headers: config.headers,\r\n  }).then(errorHandler);\r\n};\r\n\r\nexport const editProfileUser = ({ name, about }) => {\r\n  return fetch(`${config.baseUrl}/users/me`, {\r\n    method: \"PATCH\",\r\n    headers: config.headers,\r\n    body: JSON.stringify({\r\n      name,\r\n      about,\r\n    }),\r\n  }).then(errorHandler);\r\n};\r\n\r\nexport const likeCard = (cardId) => {\r\n  return fetch(`${config.baseUrl}/cards/likes/${cardId}`, {\r\n    method: \"PUT\",\r\n    headers: config.headers,\r\n  }).then(errorHandler);\r\n};\r\n\r\nexport const unLikeCard = (cardId) => {\r\n  return fetch(`${config.baseUrl}/cards/likes/${cardId}`, {\r\n    method: \"DELETE\",\r\n    headers: config.headers,\r\n  }).then(errorHandler);\r\n};\r\n\r\nexport const deleteCard = (cardId) => {\r\n  return fetch(`${config.baseUrl}/cards/${cardId}`, {\r\n    headers: config.headers,\r\n    method: \"DELETE\",\r\n  }).then(errorHandler);\r\n};\r\n\r\nexport const updateUserAvatar = (url) => {\r\n  return fetch(`${config.baseUrl}/users/me/avatar`, {\r\n    headers: config.headers,\r\n    method: \"PATCH\",\r\n    body: JSON.stringify({\r\n      avatar: url,\r\n    }),\r\n  }).then(errorHandler);\r\n};\r\n\r\nconst errorHandler = (res) => {\r\n  if (res.ok) {\r\n    return res.json();\r\n  }\r\n\r\n  return Promise.reject(`Ошибка: ${res.status}`);\r\n};\r\n","import \"./pages/index.css\";\r\n\r\nimport { createCard } from \"./components/card.js\";\r\nimport { cardData } from \"./components/cards.js\";\r\nimport { openModal, closeModal, handleModalClick } from \"./components/modal.js\";\r\nimport { enableValidation, clearValidation } from \"./components/validation.js\";\r\nimport {\r\n  getInitialCards,\r\n  createCardApi,\r\n  likeCard,\r\n  unLikeCard,\r\n  getUser,\r\n  editProfileUser,\r\n  deleteCard,\r\n  updateUserAvatar,\r\n} from \"./components/api.js\";\r\n\r\nconst cardElement = document.querySelector(\"#card-template\").content;\r\nconst cardList = document.querySelector(\".places__list\");\r\n//форма профиля\r\nconst editProfileForm = document.forms[\"edit-profile\"];\r\nconst nameInput = editProfileForm.elements.name;\r\nconst descriptionInput = editProfileForm.elements.description;\r\nconst profileFormSubmitButton = editProfileForm.querySelector(\".popup__button\");\r\n\r\n// форма новой карточки\r\nconst newPlaceForm = document.forms[\"new-place\"];\r\nconst nameInputImage = newPlaceForm.elements[\"place-name\"];\r\nconst linkInputImage = newPlaceForm.elements.link;\r\nconst cardFormSubmitButton = newPlaceForm.querySelector(\".popup__button\");\r\n\r\n// кнопки\r\nconst editProfileButton = document.querySelector(\".profile__edit-button\");\r\nconst addCardButton = document.querySelector(\".profile__add-button\");\r\nconst profileImageButton = document.querySelector(\".profile__image\");\r\nconst profileImage = document.querySelector(\".profile__image\");\r\n\r\n// поля профиля\r\nconst profileName = document.querySelector(\".profile__title\");\r\nconst profileDescription = document.querySelector(\".profile__description\");\r\n\r\n// форма аватара\r\nconst profileImageForm = document.forms[\"edit-avatar\"];\r\nconst profileImageInput = profileImageForm.elements.avatar;\r\nconst profileImageFormSubmitButton =\r\n  profileImageForm.querySelector(\".popup__button\");\r\n\r\n// модалки\r\nconst popupProfile = document.querySelector(\".popup_type_edit\");\r\nconst popupNewCard = document.querySelector(\".popup_type_new-card\");\r\nconst popupImage = document.querySelector(\".popup_type_image\");\r\nconst popupAvatarProfile = document.querySelector(\".popup_type_edit-avatar\");\r\n\r\nconst popupImageCard = popupImage.querySelector(\".popup__image\");\r\nconst popupCaption = popupImage.querySelector(\".popup__caption\");\r\n\r\nconst validationConfig = {\r\n  formSelector: \".popup__form\",\r\n  inputSelector: \".popup__input\",\r\n  submitButtonSelector: \".popup__button\",\r\n  inactiveButtonClass: \"popup__button_disabled\",\r\n  inputErrorClass: \"popup__input_type_error\",\r\n  errorClass: \"popup__error_visible\",\r\n};\r\n\r\nfunction setUserInfo({ name, about, avatar }) {\r\n  profileName.textContent = name;\r\n  profileDescription.textContent = about;\r\n  profileImageButton.style.backgroundImage = `url(${avatar})`;\r\n}\r\n\r\nfunction handleEditProfile() {\r\n  openModal(popupProfile);\r\n  nameInput.value = profileName.textContent;\r\n  descriptionInput.value = profileDescription.textContent;\r\n  clearValidation(editProfileForm, validationConfig);\r\n}\r\n\r\nfunction handleAddCard() {\r\n  clearValidation(newPlaceForm, validationConfig);\r\n  openModal(popupNewCard);\r\n}\r\n\r\nfunction handleProfileFormSubmit(evt) {\r\n  evt.preventDefault();\r\n\r\n  renderLoading({\r\n    buttonElement: profileFormSubmitButton,\r\n    isLoading: true,\r\n  });\r\n\r\n  editProfileUser({\r\n    name: nameInput.value,\r\n    about: descriptionInput.value,\r\n  })\r\n    .then(({ name, about, avatar }) => {\r\n      setUserInfo({\r\n        name,\r\n        about,\r\n        avatar,\r\n      });\r\n\r\n      closeModal(popupProfile);\r\n    })\r\n    .catch((err) => {\r\n      console.error(err);\r\n    })\r\n    .finally(() => {\r\n      renderLoading({\r\n        buttonElement: profileFormSubmitButton,\r\n        isLoading: false,\r\n      });\r\n    });\r\n}\r\n\r\nfunction handleCardFormSubmit(evt) {\r\n  evt.preventDefault();\r\n\r\n  renderLoading({\r\n    buttonElement: cardFormSubmitButton,\r\n    isLoading: true,\r\n  });\r\n\r\n  createCardApi({\r\n    name: nameInputImage.value,\r\n    link: linkInputImage.value,\r\n  })\r\n    .then((cardData) => {\r\n      cardList.prepend(\r\n        createCard({\r\n          data: cardData,\r\n          onDelete: deleteCardHandler,\r\n          onLike: handleLikeCard,\r\n          onImageClick: handleShowCard,\r\n          currentUserId: cardData.owner[\"_id\"],\r\n          template: cardElement,\r\n        })\r\n      );\r\n      closeModal(popupNewCard);\r\n      newPlaceForm.reset();\r\n    })\r\n    .catch((err) => {\r\n      console.error(err);\r\n    })\r\n    .finally(() => {\r\n      renderLoading({\r\n        buttonElement: cardFormSubmitButton,\r\n        isLoading: false,\r\n      });\r\n    });\r\n}\r\n\r\nfunction handleShowCard(data) {\r\n  openModal(popupImage);\r\n  popupImageCard.src = data.link;\r\n  popupImageCard.alt = data.name;\r\n  popupCaption.textContent = data.name;\r\n}\r\n\r\nfunction deleteCardHandler({ cardId, buttonElement }) {\r\n  deleteCard(cardId);\r\n}\r\n\r\nfunction handleLikeCard({ cardId, buttonElement, counterElement }) {\r\n  buttonElement.disabled = true;\r\n  const isActiveLike = buttonElement.classList.contains(\r\n    \"card__like-button_is-active\"\r\n  );\r\n\r\n  if (isActiveLike) {\r\n    unLikeCard(cardId)\r\n      .then(({ likes }) => {\r\n        buttonElement.classList.remove(\"card__like-button_is-active\");\r\n\r\n        if (likes.length) {\r\n          counterElement.classList.add(\"card__like-counter_is-active\");\r\n          counterElement.textContent = likes.length;\r\n        } else {\r\n          counterElement.classList.remove(\"card__like-counter_is-active\");\r\n          counterElement.textContent = \"\";\r\n        }\r\n      })\r\n      .catch((err) => console.error(err))\r\n      .finally(() => {\r\n        buttonElement.disabled = false;\r\n      });\r\n  } else {\r\n    likeCard(cardId)\r\n      .then(({ likes }) => {\r\n        buttonElement.classList.add(\"card__like-button_is-active\");\r\n\r\n        counterElement.classList.add(\"card__like-counter_is-active\");\r\n        counterElement.textContent = likes.length;\r\n      })\r\n      .catch((err) => console.error(err))\r\n      .finally(() => {\r\n        buttonElement.disabled = false;\r\n      });\r\n  }\r\n}\r\n\r\nconst handleProfileImageFormSubmit = (event) => {\r\n  event.preventDefault();\r\n\r\n  renderLoading({\r\n    buttonElement: profileImageFormSubmitButton,\r\n    isLoading: true,\r\n  });\r\n\r\n  updateUserAvatar(profileImageInput.value)\r\n    .then(({ name, about, avatar }) => {\r\n      setUserInfo({\r\n        name,\r\n        description: about,\r\n        avatar,\r\n      });\r\n\r\n      closeModal(popupAvatarProfile);\r\n    })\r\n    .catch((err) => {\r\n      console.error(err);\r\n    })\r\n    .finally(() => {\r\n      renderLoading({\r\n        buttonElement: profileImageFormSubmitButton,\r\n        isLoading: false,\r\n      });\r\n    });\r\n};\r\n\r\nconst renderLoading = ({ buttonElement, isLoading }) => {\r\n  if (isLoading) {\r\n    buttonElement.textContent = \"Сохранение...\";\r\n  } else {\r\n    buttonElement.textContent = \"Сохранить\";\r\n  }\r\n};\r\n\r\nconst handleProfileImageClick = () => {\r\n  profileImageForm.reset();\r\n\r\n  clearValidation(profileImageForm, validationConfig);\r\n\r\n  openModal(popupAvatarProfile);\r\n};\r\n\r\naddCardButton.addEventListener(\"click\", handleAddCard);\r\neditProfileButton.addEventListener(\"click\", handleEditProfile);\r\nprofileImage.addEventListener(\"click\", handleProfileImageClick);\r\n\r\npopupProfile.addEventListener(\"click\", handleModalClick);\r\npopupNewCard.addEventListener(\"click\", handleModalClick);\r\npopupImage.addEventListener(\"click\", handleModalClick);\r\npopupAvatarProfile.addEventListener(\"click\", handleModalClick);\r\n\r\neditProfileForm.addEventListener(\"submit\", handleProfileFormSubmit);\r\nnewPlaceForm.addEventListener(\"submit\", handleCardFormSubmit);\r\nprofileImageForm.addEventListener(\"submit\", handleProfileImageFormSubmit);\r\n\r\nenableValidation(validationConfig);\r\n\r\nPromise.all([getUser(), getInitialCards()])\r\n  .then(([{ name, about, avatar, [\"_id\"]: currentUserId }, cardsData]) => {\r\n    setUserInfo({\r\n      name,\r\n      about,\r\n      avatar,\r\n    });\r\n\r\n    cardsData.forEach((cardData) => {\r\n      cardList.append(\r\n        createCard({\r\n          currentUserId,\r\n          data: cardData,\r\n          onDelete: deleteCardHandler,\r\n          onLike: handleLikeCard,\r\n          onImageClick: handleShowCard,\r\n          template: cardElement,\r\n        })\r\n      );\r\n    });\r\n  })\r\n  .catch((err) => {\r\n    console.error(err);\r\n  });\r\n"],"names":["createCard","_ref","data","onDelete","onLike","currentUserId","onImageClick","cardElement","template","querySelector","cloneNode","deleteCardButton","cardLike","imgCard","cardTitle","counter","src","link","alt","name","textContent","likes","length","classList","add","find","owner","addEventListener","evt","cardId","buttonElement","counterElement","target","handlerKeydown","key","closeModal","document","openModal","element","remove","removeEventListener","handleModalClick","event","contains","closest","hideInputError","_ref2","formElement","inputElement","inputErrorClass","errorClass","errorElement","concat","id","toggleButtonState","_ref4","inputList","submitButtonElement","inactiveButtonClass","some","input","validity","valid","hasInvalidInput","disabled","clearValidation","_ref7","submitButtonSelector","inputSelector","_toConsumableArray","querySelectorAll","forEach","config","baseUrl","headers","authorization","errorHandler","res","ok","json","Promise","reject","status","content","cardList","editProfileForm","forms","nameInput","elements","descriptionInput","description","profileFormSubmitButton","newPlaceForm","nameInputImage","linkInputImage","cardFormSubmitButton","editProfileButton","addCardButton","profileImageButton","profileImage","profileName","profileDescription","profileImageForm","profileImageInput","avatar","profileImageFormSubmitButton","popupProfile","popupNewCard","popupImage","popupAvatarProfile","popupImageCard","popupCaption","validationConfig","formSelector","setUserInfo","about","style","backgroundImage","handleShowCard","deleteCardHandler","_ref3","fetch","method","then","deleteCard","handleLikeCard","unLikeCard","_ref5","catch","err","console","error","finally","likeCard","_ref6","renderLoading","_ref8","isLoading","value","reset","preventDefault","body","JSON","stringify","cardData","prepend","url","patternMismatch","setCustomValidity","dataset","errorMessage","showInputError","validationMessage","checkInputValidity","setEventListeners","all","_ref9","_ref10","_ref10$","cardsData","append"],"sourceRoot":""}